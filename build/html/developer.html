<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Developer Documentation for Runestone Interactive Tools &mdash; Runestone Interactive 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../runestone-custom-sphinx-bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/d3.v2.min.js"></script>
    <script type="text/javascript" src="_static/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="_static/js/pytutor.js"></script>
    <script type="text/javascript" src="_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="_static/bookfuncs.js"></script>
    <script type="text/javascript" src="_static/codemirror.js"></script>
    <script type="text/javascript" src="_static/python.js"></script>
    <script type="text/javascript" src="_static/javascript.js"></script>
    <script type="text/javascript" src="_static/activecode.js"></script>
    <script type="text/javascript" src="_static/skulpt.min.js"></script>
    <script type="text/javascript" src="_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="_static/assess.js"></script>
    <script type="text/javascript" src="_static/animationbase.js"></script>
    <script type="text/javascript" src="_static/lib/jquery.min.js"></script>
    <script type="text/javascript" src="_static/lib/jquery-ui.min.js"></script>
    <script type="text/javascript" src="_static/lib/prettify.js"></script>
    <script type="text/javascript" src="_static/lib/underscore-min.js"></script>
    <script type="text/javascript" src="_static/lib/lis.js"></script>
    <script type="text/javascript" src="_static/parsons.js"></script>
    <script type="text/javascript" src="_static/parsons-noconflict.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="_static/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="_static/waypoints.min.js"></script>
    <script type="text/javascript" src="_static/rangy-core.js"></script>
    <script type="text/javascript" src="_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="_static/user-highlights.js"></script>
    <script type="text/javascript" src="_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="_static/jquery.hotkey.js"></script>
    <link rel="top" title="Runestone Interactive 1.0 documentation" href="index.html" />
    <link rel="next" title="Extension Authors" href="writingAnExtension.html" />
    <link rel="prev" title="Welcome to Runestone Interactive’s documentation!" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://interactivepython.org' ? 'http://interactivepython.org' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'docs';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = false
  eBookConfig.build_info = "";
  eBookConfig.isLoggedIn = false;
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>


<script>
var _prum = [['id', '521dfcc4abe53d0749000000'],
             ['mark', 'firstbyte', (new Date()).getTime()]];
(function() {
    var s = document.getElementsByTagName('script')[0]
      , p = document.createElement('script');
    p.async = 'async';
    p.src = '//rum-static.pingdom.net/prum.min.js';
    s.parentNode.insertBefore(p, s);
})();
</script>



  </head>
  <body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='background: transparent url("_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="index.html">Runestone Interactive</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-share-alt" style="opacity: 0.9"></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div class="gittip">
                  <iframe style="border:0;"
                    src="https://www.gittip.com/bnmnetp/widget.html"
                    width="48pt" height="22pt" class="gittip-button">
                  </iframe>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHNwYJKoZIhvcNAQcEoIIHKDCCByQCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYAcrkqh1hn3lYqIpfXxNqe1T82EhXzCJGy1yMAmklpyZshyMkfDGe1Bhx+iwyGeoYRTTyphFmP+9M3NyO0+Q5XdHxgZPx/zYjjBxlZHgEV6jhE8bN2fHkkPf0VHfz0a0QQylQOPlKiOTZV7B37Jpk6yM47oVZ1tG/KNm0NkfmB76DELMAkGBSsOAwIaBQAwgbQGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIi0GmFfOlcjuAgZBbYOo9UO+CpMQa+PYqwsUmUnJvXIImeMeNI3KVTUx5Cfk9gNMo3WzPeiB5IqZo9nRAQ0mf1qL2ecLeB5tidM+lgBUhOxfj3/FecpnVFa0263gp4g+PLw8jzhvVRdUon1K3SeO1Rzh23fIRKwnrD6btt73uwtj0sl3tGd8qz+6GIcwPDdRk9VcUffiBJT/ZagKgggOHMIIDgzCCAuygAwIBAgIBADANBgkqhkiG9w0BAQUFADCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wHhcNMDQwMjEzMTAxMzE1WhcNMzUwMjEzMTAxMzE1WjCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMFHTt38RMxLXJyO2SmS+Ndl72T7oKJ4u4uw+6awntALWh03PewmIJuzbALScsTS4sZoS1fKciBGoh11gIfHzylvkdNe/hJl66/RGqrj5rFb08sAABNTzDTiqqNpJeBsYs/c2aiGozptX2RlnBktH+SUNpAajW724Nv2Wvhif6sFAgMBAAGjge4wgeswHQYDVR0OBBYEFJaffLvGbxe9WT9S1wob7BDWZJRrMIG7BgNVHSMEgbMwgbCAFJaffLvGbxe9WT9S1wob7BDWZJRroYGUpIGRMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbYIBADAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4GBAIFfOlaagFrl71+jq6OKidbWFSE+Q4FqROvdgIONth+8kSK//Y/4ihuE4Ymvzn5ceE3S/iBSQQMjyvb+s2TWbQYDwcp129OPIbD9epdr4tJOUNiSojw7BHwYRiPh58S1xGlFgHFXwrEBb3dgNbMUa+u4qectsMAXpVHnD9wIyfmHMYIBmjCCAZYCAQEwgZQwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tAgEAMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xMzExMDMxMzQxMzFaMCMGCSqGSIb3DQEJBDEWBBRDJF8w+zsMr7FSk+pwinB5f5D4rzANBgkqhkiG9w0BAQEFAASBgHw1LMHpkpaqHIvDGdFE0eG+2mZlmMnUeDCBhQlbc7QMzFQYKTV94NfaebBO4PmNdADe1rq4WidSRZZbE7CzkX9IGENYnBTWY0hb2l0lGdGrJdGeWyV3ekg9WVaFMMumrekds96h3Cx7dGz2kWDzIai2iEXE/qoE+xpkyXAYZNV3-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form> 
                    
                </div>
              </li>
          </ul>
        </li>
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='index.html'>Table of Contents</a></li>
            
            <li><a href='/runestone/static/docs/genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:toggleScratchActivecode()">Scratch ActiveCode</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        <!-- user account dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-user" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><span class='loggedinuser'></span></li>
            <li class="divider"></li>
            <li><a href='http://interactivepython.org/runestone/admin/index'>Instructor's Page</a></li>
            <li class="divider"></li>
            <li><a href="http://interactivepython.org/runestone/default/user/profile" id="profilelink">Edit Profile</a></li>
            <li><a href="http://interactivepython.org/runestone/default/user/change_password" id="passwordlink">Change Password</a></li>
            <li><a href="http://interactivepython.org/runestone/default/user/register" id="registerlink">Register</a></li>
            <li class='loginout'><a href='#'>Login</a></li> <!-- correct link populated by addNavbarLoginLink() -->
          </ul>
        </li>
        <!-- end user account dropdown -->

        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='/runestone/static/docs/navhelp.html'>Navigation Help</a></li>
            <li><a href='/runestone/static/overview/instructor.html'>Help for Instructors</a></li>            
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='https://github.com/bnmnetp/runestone/issues/new'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Developer Documentation for Runestone Interactive Tools</a><ul>
<li><a class="reference internal" href="#content-authors">Content Authors</a></li>
<li><a class="reference internal" href="#important-notes">Important Notes</a></li>
<li><a class="reference internal" href="#dependencies">Dependencies</a><ul>
<li><a class="reference internal" href="#cloning-the-runestone-project-and-its-submodules">Cloning The Runestone Project and its submodules</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configure-the-book">Configure the Book</a></li>
<li><a class="reference internal" href="#building-the-book">Building the Book</a></li>
<li><a class="reference internal" href="#running-the-server">Running the Server</a></li>
<li><a class="reference internal" href="#final-configuration">Final Configuration</a><ul>
<li><a class="reference internal" href="#building-the-prexisting-books">Building the prexisting Books</a></li>
<li><a class="reference internal" href="#starting-a-document">Starting a Document</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-runestone-extensions">Using Runestone Extensions</a><ul>
<li><a class="reference internal" href="#video">Video</a></li>
<li><a class="reference internal" href="#activecode">Activecode</a></li>
<li><a class="reference internal" href="#codelens">Codelens</a></li>
<li><a class="reference internal" href="#datafile">Datafile</a></li>
<li><a class="reference internal" href="#assessments">Assessments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#disqus-comment-box">Disqus Comment Box</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - Welcome to Runestone Interactive&#8217;s documentation!" data-toggle="tooltip">
    <a href="index.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - Extension Authors' data-toggle="tooltip" >
    <a href="writingAnExtension.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        
        
          <li>
  <a href="_sources/developer.txt"
     rel="nofollow">Source</a></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container">
  
  <div class="section" id="developer-documentation-for-runestone-interactive-tools">
<h1>Developer Documentation for Runestone Interactive Tools<a class="headerlink" href="#developer-documentation-for-runestone-interactive-tools" title="Permalink to this headline">¶</a></h1>
<div class="section" id="content-authors">
<h2>Content Authors<a class="headerlink" href="#content-authors" title="Permalink to this headline">¶</a></h2>
<p>The runestone system uses restructuredText as its primary markup language.  restructuredText is easy to read in plain text form, and can be transformed into html, latex, epub, or our own interactive book format.</p>
<p>Its probably easiest to get started by simply checking out the runestone repository, and then starting your project as a subdirectory.  Here are the relevant pieces from the README on github.</p>
</div>
<div class="section" id="important-notes">
<h2>Important Notes<a class="headerlink" href="#important-notes" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>We do our development on Linux and OS X.  We use standard Unix commands that may not exist on Windows.  If you want to install on Windows, you may need to install the Cygwin tools and do your work in that environment.  See Windows notes at the end for some additional tips.</li>
<li>The latest version of web2py has moved some important files out of its root directory.  As of 10/1/13 I have not experimented with this release.  More information on these moved files (routes.py for example) can be found <a class="reference external" href="http://web2py.com/init/default/changelog">here</a></li>
</ol>
</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>First, make sure you have Python 2.7 installed.  Web2py has not yet been ported to Python3.  Even if you don&#8217;t care about the web2py part of the install, the version of paverutils on pypi is still a Python 2.x package, although the development version is now at 3.x.</p>
<p>There are a couple of prerequisites you need to satisfy before you can build and use this
eBook. The easiest/recommended way is to use <a class="reference external" href="http://www.pip-installer.org/en/latest/">pip</a>.</p>
<p>First get <a class="reference external" href="http://sphinx.pocoo.org">Sphinx</a>, version 1.1.x is current as of this writing:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># pip install sphinx</span>
</pre></div>
</div>
<p>Install <a class="reference external" href="http://paver.github.io/paver/">paver</a>, at least version 1.2.0:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># pip install paver</span>
</pre></div>
</div>
<p>Once paver is installed you will also need to install sphinxcontrib-paverutils, at least version 1.5:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># pip install sphinxcontrib-paverutils</span>
</pre></div>
</div>
<p>If you want to run a full blown server, so you can save ActiveCode assignments, etc. you will need to download and
install <a class="reference external" href="http://web2py.com">web2py</a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># pip install diff_match_patch</span>
</pre></div>
</div>
<p>The easiest way to do so is to download the <strong>Source Code</strong> distribution from <a class="reference external" href="http://www.web2py.com/init/default/download">http://www.web2py.com/init/default/download</a>.
<a class="reference external" href="http://www.web2py.com/examples/static/web2py_src.zip">Here</a> is a direct link to the zip archive.
After you download it, extract the zip file to some folder on your hard drive. (web2py requires no real &#8220;installation&#8221;).  I avoid the web2py.app installation on OS X as it messes with the Python path.  I assume the Windows web2py.exe is the same and I would avoid it as well if I used Windows.</p>
<p>Within the <tt class="docutils literal"><span class="pre">web2py</span></tt> folder that was just extracted, go to the <tt class="docutils literal"><span class="pre">applications/</span></tt> folder and check out this repository
(instructions below). This will install the Runestone Tools as a web2py application automatically.</p>
<div class="section" id="cloning-the-runestone-project-and-its-submodules">
<h3>Cloning The Runestone Project and its submodules<a class="headerlink" href="#cloning-the-runestone-project-and-its-submodules" title="Permalink to this headline">¶</a></h3>
<p>This project consists of the main repository, plus <em>submodules</em> for codelens, parsons-problems, and skulpt.  In order to get all of the source you need you will need to do the following:</p>
<div class="highlight-python"><div class="highlight"><pre>$ git clone https://github.com/bnmnetp/runestone.git
$ cd runestone
$ git submodule init
$ git submodule update
</pre></div>
</div>
<p>If you are using a GUI git client you may simply get prompted to update the submodules and all will be taken care of for you.  Newer versions of git also support:</p>
<div class="highlight-python"><div class="highlight"><pre>$ git clone --recursive https://github.com/bnmnetp/runestone.git
</pre></div>
</div>
</div>
</div>
<div class="section" id="configure-the-book">
<h2>Configure the Book<a class="headerlink" href="#configure-the-book" title="Permalink to this headline">¶</a></h2>
<p>Although the book looks like a static website, there are quite a few AJAX calls going on in the background.  The Javascript relies on a configuration object called eBookConfig.  To get the right values in the eBookConfig object you need to configure a couple of things prior to running the <tt class="docutils literal"><span class="pre">paver</span></tt> command to build the book.  We have provided a <tt class="docutils literal"><span class="pre">paverconfig.py.prototype</span></tt> file that you can simply copy to <tt class="docutils literal"><span class="pre">paverconfig.py</span></tt> and modify.  It contains the following two lines:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">master_url</span> <span class="o">=</span> <span class="s">&#39;http://127.0.0.1:8000&#39;</span>
<span class="n">master_app</span> <span class="o">=</span> <span class="s">&#39;runestone&#39;</span>
</pre></div>
</div>
<p>You can modify the master_url to be the hostname that you are running your app on, but if you are just doing local development you will probably want to leave it alone.  If you omit this step the books will build in the next step using the values above as default values, but you will get a warning message:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&#39;NOTICE:  You are using default values for master_* Make your own paverconfig.py file&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="building-the-book">
<h2>Building the Book<a class="headerlink" href="#building-the-book" title="Permalink to this headline">¶</a></h2>
<p>Once you the above installed, you can type <tt class="docutils literal"><span class="pre">paver</span> <span class="pre">allbooks</span></tt> from the command
line and that will build the following targets:</p>
<ul class="simple">
<li>How to Think Like a Computer Scientist</li>
<li>Problem Solving with algorithms and Data Structures using Python</li>
<li>An overview page that shows off all the cool features of the Runestone toolkit</li>
</ul>
<p>The books are built into <tt class="docutils literal"><span class="pre">runestone/static/thinkcspy</span></tt>, <tt class="docutils literal"><span class="pre">runestone/static/pythonds</span></tt> and <tt class="docutils literal"><span class="pre">runestone/static/overview</span></tt>  assuming that runestone is the name of the folder you cloned into.  When the build is done you can quickly check the build by opening the file <tt class="docutils literal"><span class="pre">static/thinkcspy/index.html</span></tt> in your browser.</p>
<p>Now before you start web2py its convenient to make runestone the default application.  From web2py/examples, copy routes.patterns.example.py to web2py/routes.py and Modify the three lines that contain the word runestone to look like this:</p>
<div class="highlight-python"><div class="highlight"><pre>default_application = &#39;runestone&#39;    # ordinarily set in base routes.py
default_controller = &#39;default&#39;  # ordinarily set in app-specific routes.py
default_function = &#39;index&#39;      # ordinarily set in app-specific routes.py

# routes_app is a tuple of tuples.  The first item in each is a regexp that will
# be used to match the incoming request URL. The second item in the tuple is
# an applicationname.  This mechanism allows you to specify the use of an
# app-specific routes.py. This entry is meaningful only in the base routes.py.
#
# Example: support welcome, admin, app and myapp, with myapp the default:


    routes_app = ((r&#39;/(?P&lt;app&gt;welcome|admin|app)\b.*&#39;, r&#39;\g&lt;app&gt;&#39;),
                  (r&#39;(.*)&#39;, r&#39;runestone&#39;),
                  (r&#39;/?(.*)&#39;, r&#39;runestone&#39;))
</pre></div>
</div>
</div>
<div class="section" id="running-the-server">
<h2>Running the Server<a class="headerlink" href="#running-the-server" title="Permalink to this headline">¶</a></h2>
<p>You will have to set a few configuration values in the file <tt class="docutils literal"><span class="pre">models/1.py</span></tt>. Copy <tt class="docutils literal"><span class="pre">models/1.py.prototype</span></tt> to
<tt class="docutils literal"><span class="pre">models/1.py</span></tt> and open the newly created 1.py. If you don&#8217;t wish to use a local SQLite database, change the
<tt class="docutils literal"><span class="pre">database_uri</span></tt> to match your actual credentials.</p>
<p>If you wish to use Janrain Engage to provide social network authentication integration, you will also have to set your
Janrain API key and domain in 1.py.</p>
<p>Note: If you do <em>not</em> wish to use Janrain, you must comment out these lines in <tt class="docutils literal"><span class="pre">models/db.py</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">janrain_form</span> <span class="o">=</span> <span class="n">RPXAccount</span><span class="p">(</span><span class="n">request</span><span class="p">,</span>
                          <span class="n">api_key</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">janrain_api_key</span><span class="p">,</span> <span class="c"># set in 1.py</span>
                          <span class="n">domain</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">janrain_domain</span><span class="p">,</span> <span class="c"># set in 1.py</span>
                          <span class="n">url</span><span class="o">=</span><span class="n">janrain_url</span><span class="p">)</span>
<span class="n">auth</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">login_form</span> <span class="o">=</span> <span class="n">ExtendedLoginForm</span><span class="p">(</span><span class="n">auth</span><span class="p">,</span> <span class="n">janrain_form</span><span class="p">)</span> <span class="c"># uncomment this to use both Janrain and web2py auth</span>
<span class="n">request</span><span class="o">.</span><span class="n">janrain_form</span> <span class="o">=</span> <span class="n">janrain_form</span> <span class="c"># save the form so that it can be added to the user/register controller</span>
</pre></div>
</div>
<p>and uncomment the line below. This will disable Janrain and only use Web2Py integrated authentication.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">auth</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">login_form</span> <span class="o">=</span> <span class="n">auth</span> <span class="c"># uncomment this to just use web2py integrated authentication</span>
</pre></div>
</div>
<p>Once you&#8217;ve built the book using the steps above.  You can start the web2py development server by simply running</p>
<div class="highlight-python"><div class="highlight"><pre>python web2py.py
</pre></div>
</div>
<p>This will bring up a little GUI where you can make up an admin password and click &#8220;start server&#8221;.
When the server is running your browser will open to the welcome application, unless you&#8217;ve changed
the default application as described above.  To see this app simply use the url:  <a class="reference external" href="http://127.0.0.1/runestone">http://127.0.0.1/runestone</a>
From there, you can click on the link for &#8220;How To Think Like A Computer Scientist&#8221; or &#8220;Problem Solving With
Algorithms and Data Structures&#8221;. (See the section Final Configuration below for instructions on registering
for one of the courses. Registering allows you to save your progress and work.)</p>
<p>If you get an error at this point the most likely reason is that the settings file isn&#8217;t recognizing your host and is not setting the database correctly.  These lines in models/0.py are important:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="s">&#39;local&#39;</span> <span class="ow">in</span> <span class="n">uname</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">or</span> <span class="s">&#39;Darwin&#39;</span> <span class="ow">in</span> <span class="n">uname</span><span class="p">()[</span><span class="mi">0</span><span class="p">]:</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">database_uri</span> <span class="o">=</span> <span class="s">&#39;sqlite://storage.sqlite&#39;</span>
<span class="k">elif</span> <span class="s">&#39;webfaction&#39;</span> <span class="ow">in</span> <span class="n">uname</span><span class="p">()[</span><span class="mi">1</span><span class="p">]:</span>  <span class="c"># production is on webfaction</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">database_uri</span> <span class="o">=</span> <span class="s">&#39;postgres://production_db:secret@production_server.com/production_db&#39;</span>
<span class="k">elif</span> <span class="s">&#39;luther&#39;</span> <span class="ow">in</span> <span class="n">uname</span><span class="p">()[</span><span class="mi">1</span><span class="p">]:</span>   <span class="c"># this is my beta machine</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">database_uri</span> <span class="o">=</span> <span class="s">&#39;sqlite://storage.sqlite&#39;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s">&#39;Host unknown, settings not configured&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>For your own personal development, you want the first clause of the if statement to match. If you are on a Unix-like system,
you can replace &#8216;Darwin&#8217; with the result of running <tt class="docutils literal"><span class="pre">uname</span></tt> at a terminal. Another option is to replace &#8216;local&#8217; with
your computer&#8217;s hostname.</p>
</div>
<div class="section" id="final-configuration">
<h2>Final Configuration<a class="headerlink" href="#final-configuration" title="Permalink to this headline">¶</a></h2>
<p>To use the admin functionality you are going to want to do one more bit of configuration:</p>
<ul class="simple">
<li>Click the &#8220;Register&#8221; link in the user menu in the upper right corner of the browser window.</li>
<li>Fill in the form to create a user account for yourself. You can register for either &#8220;How To Think...&#8221; (use the course name <tt class="docutils literal"><span class="pre">thinkcspy</span></tt>) or &#8220;Problem Solving With...&#8221; (use the course name <tt class="docutils literal"><span class="pre">pythonds</span></tt>).</li>
</ul>
<p>Now, add your new user account to the &#8216;instructors&#8217; group using the appadmin
functionality of web2py:</p>
<ul class="simple">
<li>Open <tt class="docutils literal"><span class="pre">http://127.0.0.1:8000/runestone/appadmin</span></tt>. Login using the password you supplied when you ran web2py.</li>
<li>Click on <tt class="docutils literal"><span class="pre">insert</span> <span class="pre">new</span> <span class="pre">auth_membership</span></tt>. Select your user account and the instructor group as the two values and click submit.  You are now an instructor.</li>
</ul>
<p>After you do that, once you&#8217;re logged into the site, you can visit <a class="reference external" href="http://127.0.0.1:8000/runestone/admin">http://127.0.0.1:8000/runestone/admin</a> to access instructor features</p>
<div class="section" id="building-the-prexisting-books">
<h3>Building the prexisting Books<a class="headerlink" href="#building-the-prexisting-books" title="Permalink to this headline">¶</a></h3>
<p>Once you the above installed, you can type <tt class="docutils literal"><span class="pre">paver</span> <span class="pre">allbooks</span></tt> from the command
line and that will build the following targets:</p>
<ul class="simple">
<li>How to Think Like a Computer Scientist</li>
<li>Problem Solving with algorithms and Data Structures using Python</li>
<li>A development version of everything combined (devcourse)</li>
</ul>
<p>You can quickly check the build by opening the file static/devcourse/index.html in your browser.</p>
</div>
<div class="section" id="starting-a-document">
<h3>Starting a Document<a class="headerlink" href="#starting-a-document" title="Permalink to this headline">¶</a></h3>
<p>You can start a new document using the sphinx-quickstart command.  Choose a folder other than the generic source folder to contain your own document.</p>
</div>
</div>
<div class="section" id="using-runestone-extensions">
<h2>Using Runestone Extensions<a class="headerlink" href="#using-runestone-extensions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="video">
<h3>Video<a class="headerlink" href="#video" title="Permalink to this headline">¶</a></h3>
<p>The video directive is perhaps the easiest, so I&#8217;ll start by describing that one.  As you may imagine, the job of the video directive is to include a video in the final product.  Here is what it looks like in restructuredText.</p>
<p><strong>Example</strong></p>
<div class="highlight-python"><div class="highlight"><pre>.. video:: list_unique
   :controls:
   :thumb: ../_static/videothumb.png

   http://media.interactivepython.org/pythondsVideos/list_unique.mov
   http://media.interactivepython.org/pythondsVideos/list_unique.webm
</pre></div>
</div>
<p><strong>Description</strong></p>
<p>All directives start out with <tt class="docutils literal"><span class="pre">..</span></tt> followed by the name of the directive, in this case <tt class="docutils literal"><span class="pre">video::</span></tt>  Any required arguments follow after the <tt class="docutils literal"><span class="pre">::</span></tt>.</p>
<p><strong>Required Arguments</strong></p>
<p>The video directive has one required argument which is a unique identifier for the video. This is for logging purposes, as well as a Javascript necessity for managing the thumbnail and controls.</p>
<p><strong>Optional Arguments</strong></p>
<p>There are two optional arguments to the video directive.</p>
<p><tt class="docutils literal"><span class="pre">:controls:</span></tt>  The controls argument is a flag that if present tells sphinx to generate the usual set of video controls, play, pause, rewind, fast forward. If not present the video will automatically play when the page is loaded.</p>
<p><tt class="docutils literal"><span class="pre">:thumb:</span></tt> references an image that will serve as the thumbnail for this video. If this parameter is used, then a thumbnail image will take the place of the video on the page until the reader clicks on the thumbnail.  clicking on the thumbnail will cause the full video to appear at full size.   If the <tt class="docutils literal"><span class="pre">:thumb:</span></tt> directive is not present then the video will appear on the page in its full size.</p>
<p><strong>Content</strong></p>
<p>The content lines of the video directive let you specify as many video sources as you need.  Usually I specify two videos, one in mov format and the other in webm format.  This seems to cover all the browsers.</p>
<p>To give you an idea of what happens when sphinx processes a video directive here is the html and javascript output:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;a id=&quot;list_unique_thumb&quot; &gt; &lt;img src=&quot;../_static/videothumb.png&quot; /&gt;&lt;/a&gt;
&lt;div id=&quot;list_unique&quot; class=&quot;video_popup&quot; &gt;
&lt;video controls  &gt;
    &lt;source src=&quot;http://knuth.luther.edu/~pythonworks/pythondsVideos/list_unique.mov&quot; type=&quot;video/mp4&quot;&gt;&lt;/source&gt;
    &lt;source src=&quot;http://knuth.luther.edu/~pythonworks/pythondsVideos/list_unique.webm&quot; type=&quot;video/webm&quot;&gt;&lt;/source&gt;
    No supported video types
&lt;/video&gt;
&lt;/div&gt;
&lt;script&gt;
   jQuery(function($) {
      $(&#39;#list_unique_thumb&#39;).click(function(e) {
         $(&#39;#list_unique&#39;).show();
         $(&#39;#list_unique_thumb&#39;).hide();
         logBookEvent({&#39;event&#39;:&#39;video&#39;,&#39;act&#39;:&#39;play&#39;,&#39;div_id&#39;: &#39;list_unique&#39;});
         // Log the run event
      });
   });
&lt;/script&gt;
</pre></div>
</div>
<p><strong>TODO</strong></p>
<ul class="simple">
<li>embed Vimeo</li>
<li>embed youtube</li>
</ul>
</div>
<div class="section" id="activecode">
<h3>Activecode<a class="headerlink" href="#activecode" title="Permalink to this headline">¶</a></h3>
<p>The activecode directive allows you to create executable example code.  Not only is the code executable, so you know your examples will be syntactically correct, but it is also editable which allows your students to experiment with your examples by changing them and running them over and over again.</p>
<p><strong>Example</strong></p>
<div class="highlight-python"><div class="highlight"><pre>.. activecode:: ac_example1
   :nopre:
   :nocanvas:
   :language: python
   :caption: This is my caption
   :include: activecode_id, [activecode_id,...]

   for i in range(10):
       print(&#39;hello world %d\n&#39; % i)
</pre></div>
</div>
<p><strong>Description</strong></p>
<p>The activecode directive creates a runnable python listing.  It looks like this:</p>

<div id="ac_example1" lang="python" >

<br/>
<div id="ac_example1_code_div" style="display: block">
<textarea cols="50" rows="12" id="ac_example1_code" class="active_code", prefixcode="undefined" lang="python">
import turtle
t = turtle.Turtle()

for i in range(4):
    t.forward(100)
    t.left(90)
</textarea>
</div>
<p class="ac_caption"><span class="ac_caption_text">This is my caption (ac_example1)</span> </p>

<button class='btn btn-success' id="ac_example1_runb" onclick="runit('ac_example1',this, undefined);">Run</button>

<div id="cont"></div>

<button class="ac_opt btn btn-default" style="display: inline-block" id="ac_example1_saveb" onclick="saveEditor('ac_example1');">Save</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="ac_example1_loadb" onclick="requestCode('ac_example1');">Load</button>

<script>
if ('block' == 'none') {
    // a hack to preserve the inline-block display style. Toggle() will use display: block
    // (instead of inline-block) if the previous display style was 'none'
    $('#ac_example1_saveb').toggle();
    $('#ac_example1_loadb').toggle();
}
</script>


<div style="text-align: center">
<canvas id="ac_example1_canvas" class="ac-canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>
<pre id="ac_example1_suffix" style="display:none">
</pre>
<pre id="ac_example1_pre" class="active_out">

</pre>


</div>

<p>The most important thing to remember about an activecode example is that it is running in the browser.  There is no need to connect to a server to even be online for these examples to work.  The activecode directive makes use of a Skulpt (www.skulpt.org).  Skulpt is an open source javascript implementation of Python.</p>
<p>Normally and output from a print statment is appended to a <tt class="docutils literal"><span class="pre">&lt;pre&gt;&lt;/pre&gt;</span></tt> element in the page.  Graphical output, such as the turtle graphics program in the example, is done on a <tt class="docutils literal"><span class="pre">&lt;canvas&gt;</span></tt>.</p>
<p><strong>Arguments</strong></p>
<p>The identifier after the <a href="#id2"><span class="problematic" id="id3">``</span></a>:: `` must be unique.</p>
<p><strong>Optional Arguments</strong></p>
<p><tt class="docutils literal"><span class="pre">:nopre:</span></tt>  &#8211; This flag prevents a <tt class="docutils literal"><span class="pre">&lt;pre&gt;&lt;/pre&gt;</span></tt> element from getting created.</p>
<p><tt class="docutils literal"><span class="pre">:nocanvas:</span></tt>  &#8211; This flag prevents a <tt class="docutils literal"><span class="pre">&lt;canvas&gt;</span></tt> element from getting created.</p>
<p><tt class="docutils literal"><span class="pre">:caption:</span></tt>  The text argument to this parameter is formatted as a caption, underneath the activecode block</p>
<p><tt class="docutils literal"><span class="pre">:language:</span></tt> The text argument to this parameter can be python, javascript, or html.  This allows the activecode directive to support multiple languages!</p>
<p><tt class="docutils literal"><span class="pre">:include:</span></tt>  This option allows you to pre-prend other clode blocks.  It is nice because it allows you to write individual activecode examples that build on each other without having to duplicate all the code and force the user to scroll through the code to find the newly introduced content.</p>
</div>
<div class="section" id="codelens">
<h3>Codelens<a class="headerlink" href="#codelens" title="Permalink to this headline">¶</a></h3>
<p>The codelens directive creates an interactive environment for you to step through small code examples.  codelens displays the values of variables and shows the contents and links between your objects.  Unlinke a normal debugger, codelens lets you step forward and backward through the code.</p>
<p>The way codelens works is that when the book is built, it takes the code and runs it through the python debugger where a series of stack frames are collected.  I will refer to this list of stack frames as the trace data.  The trace data is then embedded into the page, so when a student is reading the book and wants to step through a codelens example the trace data is visualized for the student.</p>
<p>In addition to stepping through the code you as an author can embed a question into the example.  You may ask the student to predict how the value of a variable will change, or you may ask the student to predict which line of code will be executed next.  This is an excellent way to help students develop a good mental model of how python works.</p>
<p>It is worth noting that you can also make use of codelens in a live environment where you can edit code and run new examples.  To use codelens interactively go here:  <a class="reference external" href="http://www.pythontutor.com/">http://www.pythontutor.com/</a></p>
<p><strong>Example</strong></p>
<div class="highlight-python"><div class="highlight"><pre>.. codelens:: secondexample

    fruit = [&quot;apple&quot;,&quot;orange&quot;,&quot;banana&quot;,&quot;cherry&quot;]
    numlist = [6,7]
    newlist = fruit + numlist
    zeros = [0] * 4

    zeros[1] = fruit
    zeros[1][2] = numlist
</pre></div>
</div>
<p><strong>Description</strong></p>
<p>Here is an example of codelens in action:</p>

<div id="secondexample"></div>
<p class="cl_caption"><span class="cl_caption_text"> (secondexample)</span> </p>
<script type="text/javascript">
var secondexample_trace = {"code": "fruit = [\"apple\",\"orange\",\"banana\",\"cherry\"]\nnumlist = [6,7]\nnewlist = fruit + numlist\nzeros = [0] * 4\n\nzeros[1] = fruit\nzeros[1][2] = numlist", "trace": [{"ordered_globals": [], "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {}, "heap": {}, "line": 1, "event": "step_line"}, {"ordered_globals": ["fruit"], "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"fruit": ["REF", 1]}, "heap": {"1": ["LIST", "apple", "orange", "banana", "cherry"]}, "line": 2, "event": "step_line"}, {"ordered_globals": ["fruit", "numlist"], "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"fruit": ["REF", 1], "numlist": ["REF", 2]}, "heap": {"1": ["LIST", "apple", "orange", "banana", "cherry"], "2": ["LIST", 6, 7]}, "line": 3, "event": "step_line"}, {"ordered_globals": ["fruit", "numlist", "newlist"], "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"newlist": ["REF", 3], "fruit": ["REF", 1], "numlist": ["REF", 2]}, "heap": {"1": ["LIST", "apple", "orange", "banana", "cherry"], "2": ["LIST", 6, 7], "3": ["LIST", "apple", "orange", "banana", "cherry", 6, 7]}, "line": 4, "event": "step_line"}, {"ordered_globals": ["fruit", "numlist", "newlist", "zeros"], "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"newlist": ["REF", 3], "fruit": ["REF", 1], "zeros": ["REF", 4], "numlist": ["REF", 2]}, "heap": {"1": ["LIST", "apple", "orange", "banana", "cherry"], "2": ["LIST", 6, 7], "3": ["LIST", "apple", "orange", "banana", "cherry", 6, 7], "4": ["LIST", 0, 0, 0, 0]}, "line": 6, "event": "step_line"}, {"ordered_globals": ["fruit", "numlist", "newlist", "zeros"], "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"newlist": ["REF", 3], "fruit": ["REF", 1], "zeros": ["REF", 4], "numlist": ["REF", 2]}, "heap": {"1": ["LIST", "apple", "orange", "banana", "cherry"], "2": ["LIST", 6, 7], "3": ["LIST", "apple", "orange", "banana", "cherry", 6, 7], "4": ["LIST", 0, ["REF", 1], 0, 0]}, "line": 7, "event": "step_line"}, {"ordered_globals": ["fruit", "numlist", "newlist", "zeros"], "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"newlist": ["REF", 3], "fruit": ["REF", 1], "zeros": ["REF", 4], "numlist": ["REF", 2]}, "heap": {"1": ["LIST", "apple", "orange", ["REF", 2], "cherry"], "2": ["LIST", 6, 7], "3": ["LIST", "apple", "orange", "banana", "cherry", 6, 7], "4": ["LIST", 0, ["REF", 1], 0, 0]}, "line": 7, "event": "return"}]};
var secondexample_vis;

$(document).ready(function() {
    secondexample_vis = new ExecutionVisualizer('secondexample',secondexample_trace,
                                {embeddedMode: true,
                                verticalStack: true,
                                heightChangeCallback: redrawAllVisualizerArrows,
                                codeDivWidth: 500
                                });
    attachLoggers(secondexample_vis,'secondexample');
    allVisualizers.push(secondexample_vis);

});

$(document).ready(function() {
    $("#secondexample_tracecheck").click(function() {
        logBookEvent({'event':'codelens', 'act': 'check', 'div_id':'secondexample'});
    });
});

if (allVisualizers === undefined) {
   var allVisualizers = [];
}


$(window).resize(function() {
    secondexample_vis.redrawConnectors();
});
</script>
<p><strong>Arguments</strong></p>
<p>The identifier after the <a href="#id4"><span class="problematic" id="id5">``</span></a>:: `` must be unique.</p>
<p><strong>Optional Arguments</strong></p>
<p><tt class="docutils literal"><span class="pre">:tracedata:</span></tt>  Normally this value is filled in automatically, but you can provide your own tracedata if you wish.</p>
<p><tt class="docutils literal"><span class="pre">:caption:</span></tt>  The text provided for this option will be formatted as a caption on the bottom of the page.</p>
<p><tt class="docutils literal"><span class="pre">:showoutput:</span></tt>  Sometimes it is desireable to ignore any output from print statements.  Or sometimes you just want to save space and not show output.</p>
<p><tt class="docutils literal"><span class="pre">:question:</span></tt>  This is the question text that will be shown to the student.</p>
<p><tt class="docutils literal"><span class="pre">:correct:</span></tt> This is the correct answer.  This should be specified as a value from the trace data.  for example in the example above you might ask the student for the value of numlist[0].  The correct answer would be specified as globals.numlist[0]</p>
<p><tt class="docutils literal"><span class="pre">:feedback:</span></tt>  If the student gives the wrong answer you can give them a few sentences of feedback.</p>
<p><tt class="docutils literal"><span class="pre">:breakline:</span></tt>  This is the line that you want the program to stop at and ask show the question.</p>
</div>
<div class="section" id="datafile">
<h3>Datafile<a class="headerlink" href="#datafile" title="Permalink to this headline">¶</a></h3>
<p>The datafile directive works with activecode when you want to have the user read some data from a file.  Because we want the file to come from the browser, not some far away server, or from the users local hard drive we can fake files in two different ways.</p>
<ol class="arabic simple">
<li>We can put the data into <tt class="docutils literal"><span class="pre">pre</span></tt> element.  The id on the element serves as the filename.</li>
<li>We can put the data into a <tt class="docutils literal"><span class="pre">textarea</span></tt> element.  Again the id on the element serves as the file name.  However with a text area the file data can be modified.</li>
</ol>
<p><strong>Example</strong></p>
<div class="highlight-python"><div class="highlight"><pre>.. datafile:: mydata.dat
   :edit:
   :rows: 20
   :cols: 60

   data line one
   data line two
   data line three
</pre></div>
</div>
<p>The example will produce a text area that is 20 rows long and 60 columns wide.  The <tt class="docutils literal"><span class="pre">:edit:</span></tt> flag tells the directive to produce a textarea rather than a pre element.</p>
<p><strong>Arguments</strong></p>
<p>The required argument is the &#8216;filename&#8217;  In the example it is mydata.dat  This must be unique within the document as it does become the id of the element.</p>
<p><strong>Optional Arguments</strong></p>
<p><tt class="docutils literal"><span class="pre">:hide:</span></tt>  &#8211; This makes the file invisible.  This might be good if you have an exceptionally long file that you want to use in an example where its not important that the student see all the data.</p>
<p><tt class="docutils literal"><span class="pre">:edit:</span></tt>  &#8211; This flag makes the file into an editable file in a textarea. This is great if you want your students to be able run their program on different data from a file.  All they have to do is edit the textarea and rerun the program.</p>
<p><tt class="docutils literal"><span class="pre">rows</span></tt>  &#8211; This is for sizing the textarea.  The value has no effect on a pre element.  If the rows value is not provided the directive will do its best to guess the number of rows within a reasonable number.</p>
<p><tt class="docutils literal"><span class="pre">cols</span></tt>  &#8211; Again this is for sizing the text area, and again if not provided the directive will come up with a reasonable value.</p>
</div>
<div class="section" id="assessments">
<h3>Assessments<a class="headerlink" href="#assessments" title="Permalink to this headline">¶</a></h3>
<p><strong>Description</strong></p>
<p>Assessment questions come in several forms.  Single answer multiple choice, multi-answer multiple choice, fill in the blank, parson&#8217;s problems for coding, and some code tracing prediction tasks.  For example, given some code, the student can step through the code line by line until the system asks them to predict the value of a variable, or to predict the next line that will be executed.</p>
<p>The directives are as follows:</p>
<div class="highlight-python"><div class="highlight"><pre>.. mchoicemf
.. mchoicema
.. fillintheblank
.. parsonsprob
</pre></div>
</div>
<p><strong>Multiple Choice with Multiple Feedbacks</strong></p>
<p><strong>Example</strong></p>
<div class="highlight-python"><div class="highlight"><pre>.. mchoicemf:: question1_1
   :answer_a: Python
   :answer_b: Java
   :answer_c: C
   :answer_d: ML
   :correct: a
   :feedback_a: Yes, Python is a great language to learn, whether you are a beginner or an experienced programmer.
   :feedback_b: Java is a good object oriented language but it has some details that make it hard for the beginner.
   :feedback_c: C is an imperative programming language that has been around for a long time, but it is not the one that we use.
   :feedback_d: No, ML is a functional programming language.  You can use Python to write functional programs as well.

   What programming language does this site help you to learn?
</pre></div>
</div>
<p><strong>Description</strong></p>

            <div id="question1_1" class="alert alert-warning">
            Q-5: What programming language does this site help you to learn?<form name="question1_1_form" method="get" action="" onsubmit="return false;">
            <input type="radio" name="group1" value="a" id="question1_1_opt_a" />
            <label for= "question1_1_opt_a">  a) Python</label><br />
            
            <input type="radio" name="group1" value="b" id="question1_1_opt_b" />
            <label for= "question1_1_opt_b">  b) Java</label><br />
            
            <input type="radio" name="group1" value="c" id="question1_1_opt_c" />
            <label for= "question1_1_opt_c">  c) C</label><br />
            
            <input type="radio" name="group1" value="d" id="question1_1_opt_d" />
            <label for= "question1_1_opt_d">  d) ML</label><br />
            

            <script>
            $(document).ready(function(){checkRadio('question1_1');});
            </script>
            <button class='btn btn-success' name="do answer" onclick="checkMCMFStorage('question1_1','a',['Yes, Python is a great language to learn, whether you are a beginner or an experienced programmer.', 'Java is a good object oriented language but it has some details that make it hard for the beginner.', 'C is an imperative programming language that has been around for a long time, but it is not the one that we use.', 'No, ML is a functional programming language.  You can use Python to write functional programs as well.'])">Check Me</button>
            <button class='btn btn-default' id="question1_1_bcomp" disabled name="compare" onclick="compareAnswers('question1_1');">Compare Me</button>
            </form><br />
            <div id="question1_1_feedback">
            </div>
            </div>
            <p><strong>Arguments</strong></p>
<p><strong>Optional Arguments</strong></p>
<p><tt class="docutils literal"><span class="pre">:answer_a:</span></tt>, <tt class="docutils literal"><span class="pre">:answer_b:</span></tt>, <tt class="docutils literal"><span class="pre">:answer_c:</span></tt>, <tt class="docutils literal"><span class="pre">:answer_d:</span></tt>, <tt class="docutils literal"><span class="pre">:answer_e:</span></tt>  You can provide up to five different possible correct answers.</p>
<p><tt class="docutils literal"><span class="pre">:correct:</span></tt>  The single correct answer</p>
<p><tt class="docutils literal"><span class="pre">:feedback_a:</span></tt>, <tt class="docutils literal"><span class="pre">:feedback_b:</span></tt>, <tt class="docutils literal"><span class="pre">:feedback_c:</span></tt>, <tt class="docutils literal"><span class="pre">:feedback_d:</span></tt>, <tt class="docutils literal"><span class="pre">:feedback_e:</span></tt>  Each answer can have its own feedback.</p>
<p><tt class="docutils literal"><span class="pre">:iscode:</span></tt>  Tells the directive processor that the question text should be treated as code.</p>
<p><strong>Multiple Choice Multiple Answer</strong></p>
<p>This next type of question allows more than one correct answer to be required.  The feedback will tell you whether you have the
correct number as well as the feedback for each.</p>

            <div id="question1_2" class="alert alert-warning">
            Q-6: Which colors might be found in a rainbow? (choose all that are correct)<form name="question1_2_form" method="get" action="" onsubmit="return false;">
            <input type="checkbox" name="group1" value="a" id="question1_2_opt_a" />
            <label for= "question1_2_opt_a">  a) red</label><br />
            
            <input type="checkbox" name="group1" value="b" id="question1_2_opt_b" />
            <label for= "question1_2_opt_b">  b) yellow</label><br />
            
            <input type="checkbox" name="group1" value="c" id="question1_2_opt_c" />
            <label for= "question1_2_opt_c">  c) black</label><br />
            
            <input type="checkbox" name="group1" value="d" id="question1_2_opt_d" />
            <label for= "question1_2_opt_d">  d) green</label><br />
            
            <script>
            $(document).ready(function(){checkMultipleSelect('question1_2');});
            </script>
            <button class='btn btn-success' name="do answer" onclick="checkMCMAStorage('question1_2','a,b,d',['Red is a definitely on of the colors.', 'Yes, yellow is correct.', 'Remember the acronym...ROY G BIV.  B stands for blue.', 'Yes, green is one of the colors.'])">Check Me</button>
            <button class='btn btn-default' id="question1_2_bcomp" disabled name="compare" onclick="compareAnswers('question1_2');">Compare Me</button>
            </form><br />
            <div id="question1_2_feedback">
            </div>
            </div>
            <p><strong>Optional Arguments</strong></p>
<p><tt class="docutils literal"><span class="pre">:answer_a:</span></tt>, <tt class="docutils literal"><span class="pre">:answer_b:</span></tt>, <tt class="docutils literal"><span class="pre">:answer_c:</span></tt>, <tt class="docutils literal"><span class="pre">:answer_d:</span></tt>, <tt class="docutils literal"><span class="pre">:answer_e:</span></tt>  You can provide up to five different possible correct answers.</p>
<p><tt class="docutils literal"><span class="pre">:correct:</span></tt>  a comma separated list of the correct answers</p>
<p><tt class="docutils literal"><span class="pre">:feedback_a:</span></tt>, <tt class="docutils literal"><span class="pre">:feedback_b:</span></tt>, <tt class="docutils literal"><span class="pre">:feedback_c:</span></tt>, <tt class="docutils literal"><span class="pre">:feedback_d:</span></tt>, <tt class="docutils literal"><span class="pre">:feedback_e:</span></tt>  Each answer can have its own feedback.</p>
<p><tt class="docutils literal"><span class="pre">:iscode:</span></tt>  Tells the directive processor that the question text should be treated as code.</p>
<p><strong>Fill in the Blank, or Free form Answer</strong></p>
<p>Another type of question allows you as the instructor to ask for a value.  You can test for the value using Javascript regular expressions.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre>.. fillintheblank:: postfix1
   :casei:
   :correct: \\b10\\s+3\\s+5\\s*\\*\\s*16\\s+4\\s*-\\s*/\\s*\\+
   :feedback1:  (&#39;10.*3.*5.*16.*4&#39;, &#39;The numbers appear to be in the correct order check your operators&#39;)
   :feedback2: (&#39;.*&#39;, &#39;Remember the numbers will be in the same order as the original equation&#39;)

   Without using the activecode infixToPostfix function, convert the following expression to postfix &lt;br&gt; 10 + 3 * 5 / (16 - 4) ___
</pre></div>
</div>
<p><strong>Description</strong></p>
<p>Here is how the fill in the blank question is formatted.</p>
<blockquote>
<div>
            <div id="postfix1" class="alert alert-warning">
            Q-7: Without using the activecode infixToPostfix function, convert the following expression to postfix &lt;br&gt; 10 + 3 * 5 / (16 - 4) ___
            <script>
            $(document).ready(function(){checkPreviousFIB('postfix1');});
            </script>
            <button class='btn btn-success' name="do answer" onclick="checkFIBStorage('postfix1', 'postfix1_blank', '\\b10\\s+3\\s+5\\s*\\*\\s*16\\s+4\\s*-\\s*/\\s*\\+',[['10.*3.*5.*16.*4', 'The numbers appear to be in the correct order check your operators'], ['.*', 'Remember the numbers will be in the same order as the original equation']], true)">Check Me</button>
            <button class='btn btn-default' id="postfix1_bcomp" disabled name="compare" onclick="compareFITBAnswers('postfix1');">Compare Me</button>
            <br />
            <br />
            <div id="postfix1_feedback">
            </div>
            </div>
            </div></blockquote>
<p><strong>Optional Arguments</strong></p>
<p><tt class="docutils literal"><span class="pre">:iscode:</span></tt>  Tells the processor that the question text is code.</p>
<p><tt class="docutils literal"><span class="pre">:correct:</span></tt>  A regular expression matching the correct answer
<tt class="docutils literal"><span class="pre">:feedback1:</span></tt> (re,text)  a regular expression matching an incorrect answer with feedback specific to that answer.
<tt class="docutils literal"><span class="pre">:feedback2:</span></tt>
<tt class="docutils literal"><span class="pre">:casei:</span></tt>  Tells the regular expression match to match using a case insensitive match.</p>
<p><strong>Parson&#8217;s Problems</strong></p>
<p>And finally here is a way of giving your students some simple programming problems where the code is already there for them but not indented or in the correct order.  Use drag-and-drop to get everthing right.</p>
<p><strong>Example</strong></p>
<p>Here is a simple example:</p>
<div class="highlight-python"><div class="highlight"><pre>.. parsonsprob:: question1_100_4

   Construct a block of code that correctly implements the accumulator pattern.
   -----
   x = 0
   for i in range(10)
      x = x + 1
</pre></div>
</div>
<p>You can also group lines of code together using === to delimit the different blocks.</p>
<div class="highlight-python"><div class="highlight"><pre>.. parsonsprob:: question1_100_5

   Solve this problem.
   -----
   def findmax(alist):
   =====
      if len(alist) == 0:
         return None
   =====
      curmax = alist[0]
      for item in alist:
   =====
         if item &amp;gt; curmax:
   =====
            curmax = item
   =====
      return curmax
</pre></div>
</div>
<p>Notice that you give the code correctly indented and in its correct form.  This is how the processor knows what the correct answer is.  The processor will scramble the code for you each time the page is loaded.  Here is what the parson&#8217;s problem looks like:</p>

        <div class='parsons alert alert-warning'>
        Q-8: Solve this problem.<br /><br />
        <div style="clear:left;"></div>
        <div id="parsons-orig-616" style="display:none;">def findmax(alist):
   if len(alist) == 0:\n   return None
   curmax = alist[0]\nfor item in alist:
      if item &gt; curmax:
         curmax = item
   return curmax</div>
        <div id="parsons-sortableTrash-616" class="sortable-code"></div>
        <div id="parsons-sortableCode-616" class="sortable-code"></div>
    	<div style="clear:left;"></div>
        <input type="button" class='btn btn-success' id="checkMe616" value="Check Me"/>
        <input type="button" class='btn btn-default' id="reset616" value="Reset"/>
        <div id="parsons-message-616"></div>
        </div>

    <script>
        $pjQ(document).ready(function(){
            var msgBox = $("#parsons-message-616");
            msgBox.hide();
	    var displayErrors = function (fb) {
	        if(fb.errors.length > 0) {
                    var hash = pp_616.getHash("#ul-parsons-sortableCode-616");
                    msgBox.fadeIn(500);
                    msgBox.attr('class','alert alert-danger');
                    msgBox.html(fb.errors[0]);
                    logBookEvent({'event':'parsons', 'act':hash, 'div_id':'question1_100_5'});

	        } else {
                    logBookEvent({'event':'parsons', 'act':'yes', 'div_id':'question1_100_5'});
                    msgBox.fadeIn(100);
                    msgBox.attr('class','alert alert-success');
                    msgBox.html("Perfect!")
                }

        }

        $(window).load(function() {
            // set min width and height
            var sortableul = $("#ul-parsons-sortableCode-616");
            var trashul = $("#ul-parsons-sortableTrash-616");
            var sortableHeight = sortableul.height();
            var sortableWidth = sortableul.width();
            var trashWidth = trashul.width();
            var trashHeight = trashul.height();
            var minHeight = Math.max(trashHeight,sortableHeight);
            var minWidth = Math.max(trashWidth, sortableWidth);
            trashul.css("min-height",minHeight + "px");
            sortableul.css("min-height",minHeight + "px");
            sortableul.height(minHeight);
            trashul.css("min-width",minWidth + "px");
            sortableul.css("min-width",minWidth + "px");
        });
 

        var pp_616 = new ParsonsWidget({
                'sortableId': 'parsons-sortableCode-616',
		'trashId': 'parsons-sortableTrash-616',
                'max_wrong_lines': 1,
                'solution_label': 'Drop blocks here',
                'feedback_cb' : displayErrors
        });
        pp_616.init($pjQ("#parsons-orig-616").text());
	pp_616.shuffleLines();
            
        if(localStorage.getItem('question1_100_5') && localStorage.getItem('question1_100_5-trash')) {
            try {
                var solution = localStorage.getItem('question1_100_5');
                var trash = localStorage.getItem('question1_100_5-trash');
                pp_616.createHTMLFromHashes(solution,trash);
                pp_616.getFeedback();
            } catch(err) {
                var text = "An error occured restoring old question1_100_5 state.  Error: ";
                console.log(text + err.message);
            }

        }
            $pjQ("#reset616").click(function(event){
              event.preventDefault();
              pp_616.shuffleLines();
            
            // set min width and height
            var sortableul = $("#ul-parsons-sortableCode-616");
            var trashul = $("#ul-parsons-sortableTrash-616");
            var sortableHeight = sortableul.height();
            var sortableWidth = sortableul.width();
            var trashWidth = trashul.width();
            var trashHeight = trashul.height();
            var minHeight = Math.max(trashHeight,sortableHeight);
            var minWidth = Math.max(trashWidth, sortableWidth);
            trashul.css("min-height",minHeight + "px");
            sortableul.css("min-height",minHeight + "px");
            trashul.css("min-width",minWidth + "px");
            sortableul.css("min-width",minWidth + "px");
              msgBox.hide();
            });
            
            $pjQ("#checkMe616").click(function(event){
              event.preventDefault();
              var hash = pp_616.getHash("#ul-parsons-sortableCode-616");
              localStorage.setItem('question1_100_5',hash);
              hash = pp_616.getHash("#ul-parsons-sortableTrash-616");
              localStorage.setItem('question1_100_5-trash',hash);
            
            pp_616.getFeedback();
            msgBox.fadeIn(100);
            
            });
            
        });
            

    </script>

<p><strong>Optional Arguments</strong></p>
<p>There are no optional arguments for the parson&#8217;s problem directive.</p>
</div>
</div>
<div class="section" id="disqus-comment-box">
<h2>Disqus Comment Box<a class="headerlink" href="#disqus-comment-box" title="Permalink to this headline">¶</a></h2>
<p><strong>Example</strong></p>
<p>Here is an example:</p>
<div class="highlight-python"><div class="highlight"><pre>.. disqus::
    :shortname: interactivepython
    :identifier: overview.html
</pre></div>
</div>
<p><strong>Description</strong>
Insert an interactive comment/discussion box, powered by Disqus. Requires registration with Disqus.</p>
<p><strong>Arguments</strong>
There are 2 required arguments, <tt class="docutils literal"><span class="pre">shortname</span></tt> and <tt class="docutils literal"><span class="pre">identifier</span></tt>. The shortname is used to identify your site to
Disqus. You can obtain a shortname by registering with Disqus. The identifier is used to identify the specific pageon your site you want users to be able to comment on.</p>
<script type="text/javascript" charset="utf-8">
    $(document).ready(createEditors);
</script></div>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <span id='numuserspan'></span> readers online now | <span class='loggedinuser'></span> | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Brad Miller.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.1.
    </p>
  </div>
</footer>

<script type="text/javascript" charset="utf-8">
    $(document).ready(addUserToFooter);
    $(document).ready(addNavbarLoginLink);
    $(document).ready(createEditors);
    $(document).ready(getNumUsers);
    $(document).ready(getOnlineUsers);
    $(document).ready(createScratchActivecode());
    $(document).ready(styleUnittestResults());
</script>

<script type="text/javascript">
  // add the video play button overlay image
  $(".video-play-overlay").each(function() {
    $(this).css('background-image', "url(\'_static/play_overlay_icon.png\')")
    });

  // This function is needed to allow the dropdown search bar to work;
  // The default behaviour is that the dropdown menu closes when something in
  // it (like the search bar) is clicked
  $(function() {
    // Fix input element click problem
    $('.dropdown input, .dropdown label').click(function(e) {
      e.stopPropagation();
      });
  });

  // style codelens buttons (doing it here because PyTutor is a submodule owned by someone else
  $(function() {
    $(".ExecutionVisualizer").each(function() {
      $(this).find("#jmpFirstInstr").addClass('btn btn-default');
      $(this).find("#jmpStepBack").addClass('btn btn-danger');
      $(this).find("#jmpStepFwd").addClass('btn btn-success');
      $(this).find("#jmpLastInstr").addClass('btn btn-default');
      });
  });

</script>


<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>